(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[617],{4617:function(e,t,i){"use strict";i.r(t),i.d(t,{EmailsModule:function(){return f}});var n=i(1116),a=i(6728),o=i(146),r=i(7647),l=i(4762),c=i(4455),s=i(9847),d=i(529),u=i(483),p=i(2693),m=i(6691),h=function(){function e(e,t,i,n,a,o){this.http=e,this.route=t,this.route2=i,this.alertService=n,this.snackBar=a,this.authService=o,this.baseUrl=d.N.base_url}return e.prototype.getEmails=function(){var e=this.http.get(this.baseUrl+"/api/emails",this.authService.httpOptions());return this.authService.onRequest(e)},e.prototype.newEmail=function(e){var t=this.http.post(this.baseUrl+"/api/emails",{email:e},this.authService.httpOptions());return this.authService.onRequest(t)},e.prototype.deleteEmail=function(e){var t=this.http.delete(this.baseUrl+"/api/emails/"+e,this.authService.httpOptions());return this.authService.onRequest(t)},e.\u0275fac=function(t){return new(t||e)(u.LFG(p.eN),u.LFG(o.F0),u.LFG(o.gz),u.LFG(c.c),u.LFG(m.c),u.LFG(s.e))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function g(e,t){if(1&e){var i=u.EpF();u.TgZ(0,"span"),u.TgZ(1,"button",42),u.NdJ("click",function(){var e=u.CHM(i).row;return u.oxw().deleteEmail(e)}),u.TgZ(2,"span",22),u._UZ(3,"i",43),u.qZA(),u.TgZ(4,"span",24),u._uU(5," Remove "),u.qZA(),u.qZA(),u.qZA()}}var Z=[{path:"",redirectTo:"operational",pathMatch:"full"},{path:"",children:[{path:"operational",component:function(){function e(e,t){this.emailService=e,this.alerService=t,this.entries=10,this.temp=[],this.selected=[],this.rows=[{email:"Tiger_Nixon@email.com"},{email:"Donna_Snider@email.com"}],this.emailRows=[]}return e.prototype.ngOnInit=function(){var e=this;this.alerService.loading("Loading Emails....."),this.emailService.getEmails().subscribe(function(t){e.emailRows=t,e.loadData(e.emailRows),e.alerService.closeLoading()})},e.prototype.loadData=function(e){this.temp=e.map(function(e,t){return(0,l.pi)({},e)})},e.prototype.deleteEmail=function(e){var t=this;this.alerService.confirm("Wait!","Do you really need to delete this email?").then(function(i){i.isConfirmed&&(t.alerService.loading("Deleting Email..."),t.emailService.deleteEmail(e.id).subscribe(function(e){t.alerService.closeLoading(),t.emailRows=t.emailRows.filter(function(t){if(t.email!=e.email)return t}),t.loadData(t.emailRows)}),console.log(e))})},e.prototype.newEmail=function(){var e=this;this.alerService.customNewEmail().then(function(t){t.isConfirmed&&(e.alerService.loading("Adding new Email..."),e.emailService.newEmail(t.value.email).subscribe(function(t){e.alerService.closeLoading(),e.emailRows.push(t),e.loadData(e.emailRows)}))})},e.prototype.exportEmails=function(){var e="Email\n";e+=this.emailRows.map(function(e){return e.email}).join("\n"),this.saveData(e,"emails.csv")},e.prototype.saveData=function(e,t){var i=document.createElement("a");document.body.appendChild(i),i.setAttribute("style","display: none");var n=new Blob([e],{type:"octet/stream"}),a=window.URL.createObjectURL(n);i.href=a,i.download=t,i.click(),window.URL.revokeObjectURL(a)},e.prototype.entriesChange=function(e){this.entries=e.target.value},e.prototype.filterTable=function(e){var t=e.target.value;this.temp=this.emailRows.filter(function(e){for(var i in e)if(-1!==("number"==typeof e[i]?e[i].toString():e[i]).toLowerCase().indexOf(t.toLowerCase()))return!0;return!1})},e.prototype.onSelect=function(e){var t,i=e.selected;this.selected.splice(0,this.selected.length),(t=this.selected).push.apply(t,i)},e.prototype.onActivate=function(e){this.activeRow=e.row},e.prototype.onSelectRed=function(e){console.log(e)},e.prototype.onSelectBlue=function(e){console.log(e)},e.\u0275fac=function(t){return new(t||e)(u.Y36(h),u.Y36(c.c))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-email-operational"]],decls:58,vars:10,consts:[[1,"header","bg-danger","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h2","text-white","d-inline-block","mb-0"],["aria-label","breadcrumb",1,"d-none","d-md-inline-block","ml-md-4"],[1,"breadcrumb","breadcrumb-links","breadcrumb-dark"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"fas","fa-home"],[1,"col-lg-6","col-5","text-right"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col"],[1,"card"],[1,"card-header"],[1,"col-md-9"],[1,"mb-0"],[1,"text-sm","mb-0"],[1,"col-md-2"],["type","button",1,"btn","btn-icon","btn-success","btn-block",3,"click"],[1,"btn-inner--icon"],[1,"ni","ni-fat-add"],[1,"btn-inner--text"],[1,"col-md-1"],["type","button",1,"btn","btn-icon","btn-success","btn-download",3,"click"],[1,"ni","ni-cloud-download-95"],[1,"dataTables_wrapper","py-4"],[1,"col-sm-12","col-md-6"],["id","datatable_length",1,"dataTables_length"],["name","datatable_length","aria-controls","datatable",1,"form-control","form-control-sm",3,"change"],["value","10",3,"selected"],["value","25",3,"selected"],["value","50",3,"selected"],["value","-1",3,"selected"],["id","datatable_filter",1,"dataTables_filter"],["type","search","placeholder","Search records","aria-controls","datatable",1,"form-control","form-control-sm",3,"keyup"],[1,"bootstrap","selection-cell",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","activate"],["name","Email"],["name","Actions"],["ngx-datatable-cell-template",""],["type","button",1,"btn","btn-icon","btn-danger",3,"click"],[1,"ni","ni-scissors"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h6",5),u._uU(6,"Operational Report - Email List"),u.qZA(),u.TgZ(7,"nav",6),u.TgZ(8,"ol",7),u.TgZ(9,"li",8),u.TgZ(10,"a",9),u._UZ(11,"i",10),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(12,"div",11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",12),u.TgZ(14,"div",13),u.TgZ(15,"div",14),u.TgZ(16,"div",15),u.TgZ(17,"div",16),u.TgZ(18,"div",13),u.TgZ(19,"div",17),u.TgZ(20,"h3",18),u._uU(21,"Email List"),u.qZA(),u.TgZ(22,"p",19),u._uU(23," This is a list of emails that the alert will be sent to when the daily report gets available! "),u.qZA(),u.qZA(),u.TgZ(24,"div",20),u.TgZ(25,"button",21),u.NdJ("click",function(){return t.newEmail()}),u.TgZ(26,"span",22),u._UZ(27,"i",23),u.qZA(),u.TgZ(28,"span",24),u._uU(29," New "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"div",25),u.TgZ(31,"button",26),u.NdJ("click",function(){return t.exportEmails()}),u.TgZ(32,"span",22),u._UZ(33,"i",27),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",28),u.TgZ(35,"div",13),u.TgZ(36,"div",29),u.TgZ(37,"div",30),u.TgZ(38,"label"),u._uU(39," Show "),u.TgZ(40,"select",31),u.NdJ("change",function(e){return t.entriesChange(e)}),u.TgZ(41,"option",32),u._uU(42,"10"),u.qZA(),u.TgZ(43,"option",33),u._uU(44,"25"),u.qZA(),u.TgZ(45,"option",34),u._uU(46,"50"),u.qZA(),u.TgZ(47,"option",35),u._uU(48,"All"),u.qZA(),u.qZA(),u._uU(49," entries "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(50,"div",29),u.TgZ(51,"div",36),u.TgZ(52,"label"),u.TgZ(53,"input",37),u.NdJ("keyup",function(e){return t.filterTable(e)}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(54,"ngx-datatable",38),u.NdJ("activate",function(e){return t.onActivate(e)}),u._UZ(55,"ngx-datatable-column",39),u.TgZ(56,"ngx-datatable-column",40),u.YNc(57,g,6,0,"ng-template",41),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(41),u.Q6J("selected",10==t.entries),u.xp6(2),u.Q6J("selected",25==t.entries),u.xp6(2),u.Q6J("selected",50==t.entries),u.xp6(2),u.Q6J("selected",-1==t.entries),u.xp6(7),u.Q6J("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",-1!=t.entries?t.entries:void 0)("rows",t.temp))},directives:[a.YN,a.Kr,r.nE,r.UC,r.vq],styles:[".bg-danger[_ngcontent-%COMP%]{background-color:#f5a036!important}.btn-download[_ngcontent-%COMP%]{background-color:#0f034e;border-color:#0f034e}"]}),e}()}]}],f=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,o.Bz.forChild(Z),a.u5,r.xD]]}),e}()}}]);